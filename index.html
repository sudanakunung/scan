<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <b>Device has camera: </b>
    <span id="cam-has-camera"></span>
<video id="render"></video>
<button id="start-button">Start</button>
<script type="module">
       import QrScanner from '/qr-scanner/qr-scanner.min.js';
       const camHasCamera = document.getElementById('cam-has-camera');
       const videoElem = document.getElementById('render')
        const scanner = new QrScanner(videoElem, result => setResult(camQrResult, result), {
            onDecodeError: error => {
                camQrResult.textContent = error;
                camQrResult.style.color = 'inherit';
            },
            highlightScanRegion: true,
            highlightCodeOutline: true,
        });
            scanner.start().then(() => {
                    updateFlashAvailability();
                    // List cameras after the scanner started to avoid listCamera's stream and the scanner's stream being requested
                    // at the same time which can result in listCamera's unconstrained stream also being offered to the scanner.
                    // Note that we can also start the scanner after listCameras, we just have it this way around in the demo to
                    // start the scanner earlier.
                    QrScanner.listCameras(true).then(cameras => cameras.forEach(camera => {
                        const option = document.createElement('option');
                        option.value = camera.id;
                        option.text = camera.label;
                        camList.add(option);
                    }));
                });

                QrScanner.hasCamera().then(hasCamera => camHasCamera.textContent = hasCamera);
                document.getElementById('start-button').addEventListener('click', () => {
                        scanner.start();
                    });

</script>
</body>
</html>